<main>
    <mat-toolbar>
      <button matButton [routerLink]="['/']" class="home">
        PetShop
      </button>
      @if (userService.user.loggedIn) {
        <a [routerLink]="['/profile']">
          <div>{{userService.user.username}}</div>
        </a>
        <a [routerLink]="['/cart']">
          <div [matBadge]="userService.user.cartItemCount">Cart ({{userService.user.cartItemCount}})</div>
        </a>
        <button matButton="filled" (click)="userService.authObject.logout({logoutParams: {returnTo: environment.frontend_url}})">logout</button>
      } @else {
        <a [routerLink]="['/cart']">
          <div [matBadge]="sessionService.getCount()">Cart ({{sessionService.getCount()}})</div>
        </a>
        <button matButton="filled" (click)="userService.authObject.loginWithRedirect()">login</button>
      }
    </mat-toolbar>
  <section>
    <router-outlet></router-outlet>
  </section>
</main>
