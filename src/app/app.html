<main>
    <mat-toolbar>
      <button matButton [routerLink]="['/']" class="home">
        PetShop
      </button>
      @if (userService.user.loggedIn) {
        <button matButton [routerLink]="['/profile']" class="profile">
          <div>{{userService.user.username}}</div>
        </button>
        <button matIconButton [matBadge]="this.userService.user.cartItemCount" [routerLink]="['/cart']" class="cart">
          <mat-icon>shopping_cart</mat-icon>
        </button>
        <button matButton="filled" (click)="userService.authObject.logout({logoutParams: {returnTo: environment.frontend_url}})">logout</button>
      } @else {
        <a [routerLink]="['/cart']">
          <div [matBadge]="sessionService.getCount()">Cart ({{sessionService.getCount()}})</div>
        </a>
        <button matButton="filled" (click)="userService.authObject.loginWithRedirect()">login</button>
      }
    </mat-toolbar>
  <section>
    <router-outlet></router-outlet>
  </section>
</main>
